<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>D&E NEWS LIVE</title>
  <link rel="stylesheet" href="style.css">
  <script src="table.js"></script>
  <script>
    function refreshLive() {
      const state = getLiveState();
      document.getElementById("breaking").textContent = state.breaking;
      document.getElementById("ltTitle").textContent = state.lt_title;
      document.getElementById("ltSub").textContent = state.lt_sub;
      document.getElementById("ticker").textContent = state.ticker;

      const video = document.getElementById("liveVideo");
      if(state.broadcast_on && state.videoStream){
        video.srcObject = state.videoStream;
        video.style.display = "block";
      } else {
        video.srcObject = null;
        video.style.display = "none";
      }
    }

    setInterval(refreshLive, 500);
  </script>
</head>
<body>
  <h1>D&E NEWS LIVE</h1>

  <div id="breaking" style="color:red; font-weight:bold;"></div>
  <video id="liveVideo" autoplay playsinline controls style="width:90%; max-width:600px; display:none; border:2px solid red;"></video>

  <div id="ltTitle" style="font-size:24px; font-weight:bold;"></div>
  <div id="ltSub" style="font-size:18px;"></div>
  <div id="ticker" style="background:black; color:white; padding:5px; overflow:hidden; white-space:nowrap;"></div>
</body>
</html>
